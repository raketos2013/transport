@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model IEnumerable<FileManager.Domain.Entity.TaskStatusEntity>
@{
}
<div class="row row-cols-auto g-4 justify-content-center" style="margin-left: 0px; margin-right: 0px;">
    @foreach (var item in Model)
    {
        <div class="col card-group link">
            <div class="card shadow" style="width: 240px;">
                <div class="card-body">
                    @* <h5 class="card-header">@item.TaskId</h5> *@
                    @if (item.Task.IsActive)
                    {
                        <h5 class="card-header" style="background-color:rgb(124, 252, 9);">@item.TaskId</h5>
                    } else {
                        <h5 class="card-header">@item.TaskId</h5>
                    }

                    <span>Выполнений за день: @item.CountExecute</span><br />
                    <span>Обработано файлов: @item.CountProcessedFiles</span><br />
                    @* <span>Осталось файлов: @item.CountLeftFiles</span><br /> *@
                    <span>Последний запуск: @item.DateLastExecute</span><br />
                    @if (item.IsProgress)
                    {
                        <img src="~/images/isProgress_icon.png" />
                        <span>Выполняется</span>

                        <br />
                    }
                    @if (item.IsError)
                    {
                        <img src="~/images/icon_error_task.png" /> <span>Есть ошибки</span>
                    }

                    <a asp-action="Details" asp-route-id="@item.TaskId" asp-route-dateFrom="@DateTime.Today" asp-route-dateTo="@DateTime.Today" asp-route-page="1" class="stretched-link"></a>
                </div>
            </div>
        </div>
    }

</div>
